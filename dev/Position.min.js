/**
 * Position v0.0.1
 * @author Vu Pham
 * @homepage https://github.com/vuquangpham/position.js
 * @license MIT 2023
 */
!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var o=e();for(var n in o)("object"==typeof exports?exports:t)[n]=o[n]}}(this,(()=>(()=>{"use strict";var t={r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};function o(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")+Date.now().toString(36)+Math.random().toString(36).slice(2)}function n(t,e,o){return{x:e,y:o,xPercent:e/t.width,yPercent:o/t.height}}t.r(e);class i{constructor(t){this.events=s(t)}on(t,e){this.events[t]?.push(e)||(this.events[t]=[e])}emit(t){for(var e=arguments.length,o=new Array(e>1?e-1:0),n=1;n<e;n++)o[n-1]=arguments[n];this.events[t]&&this.events[t].forEach((t=>t(...o)))}destroy(){this.events={}}}const s=t=>{if(!t)return{};const e={};for(const[o,n]of Object.entries(t))"function"==typeof n&&(e[o]=[n]);return e};function r(t){t.emitter=new i({enter:t.onMouseEnter,leave:t.onMouseLeave,move:t.onMouseMove}),t.handleMouseMove=d.bind(t),t.target.addEventListener("mousemove",t.handleMouseMove),t.handleMouseEnter=c.bind(t),t.target.addEventListener("mouseenter",t.handleMouseEnter),t.handleMouseLeave=u.bind(t),t.target.addEventListener("mouseleave",t.handleMouseLeave),t.handleMousePositionWhenScroll=a.bind(t),window.addEventListener("scroll",t.handleMousePositionWhenScroll)}function d(t){const e=this.target.getBoundingClientRect(),o=t.clientX,i=t.clientY,s=t.clientX+scrollX,r=t.clientY+scrollY,d=Math.max(0,Math.min(o-e.left,e.width)),a=Math.max(0,Math.min(i-e.top,e.height));this.browserPosition=n({width:innerWidth,height:innerHeight},o,i),this.documentPosition=n({width:document.body.clientWidth,height:document.body.clientHeight},s,r),this.targetPosition=n(e,d,a),this.emitter.emit("move",{id:this.id,target:this.target,browserPosition:this.browserPosition,documentPosition:this.documentPosition,targetPosition:this.targetPosition,event:t,destroy:this.destroy}),this.debug&&function(t,e){const o=t.getBoundingClientRect();t.style.transform=`translate(${e.x-.5*o.width}px, ${e.y-.5*o.height}px)`,t.querySelector("span").textContent=`\n    ${e.x}\n    ${e.y}\n    `}(this.cursor,this.targetPosition)}function a(){console.log("scroll ne"),this.target.dispatchEvent(new MouseEvent("mousemove",{clientX:this.browserPosition.x,clientY:this.browserPosition.y}))}function c(){this.emitter.emit("enter",{id:this.id,target:this.target,browserPosition:this.browserPosition,documentPosition:this.documentPosition,targetPosition:this.targetPosition,destroy:this.destroy})}function u(){this.emitter.emit("leave",{id:this.id,target:this.target,browserPosition:this.browserPosition,documentPosition:this.documentPosition,targetPosition:this.targetPosition,destroy:this.destroy})}function h(t){const e=t.target.getBoundingClientRect();t.browserPosition=n(e,0,0),t.documentPosition=n(e,0,0),t.targetPosition=n(e,0,0),r(t),t.debug&&(t.cursor=function(t){const e=document.createElement("div");e.classList.add("position-debug-panel"),e.style.cssText="position:absolute; top:0; left:0; right:0; bottom:0;";const o=document.createElement("div");o.style.cssText="\n        width:20px;\n        height:20px;\n        position:absolute;\n        top:0;\n        left:0;\n    ";const n=document.createElement("span");return n.style.cssText="position:absolute; top:75%; left:85%;",o.append(n),e.append(o),t.append(e),t.style.cssText="position:relative;",o}(t.target))}return window.Position=new class{constructor(){this.instances=[]}create(t){const e={id:o("position-"),target:document.body,debug:!1,onMouseEnter:t=>{},onMouseMove:t=>{},onMouseLeave:t=>{},...t};return e.target=function(t){let e="Target element not found! Please use correct DOM element!";return"string"==typeof t&&(t=document.querySelector(t),e="Target string is not valid! Please use correct CSS selector!"),t||(console.error(e),!1)}(e.target),e.target?(e.destroy=this.destroy.bind(this,e),h(e),this.instances.push(e),{id:e.id,target:e.target,destroy:e.destroy}):null}destroy(t){const e=e=>e.id===t.id,o=this.instances.find(e);if(o){const n=this.instances.findIndex(e);return o.target.removeEventListener("mouseenter",t.handleMouseEnter),o.target.removeEventListener("mouseleave",t.handleMouseLeave),o.target.removeEventListener("mousemove",t.handleMouseMove),window.removeEventListener("scroll",o.handleMousePositionWhenScroll),this.instances.splice(n,1),!0}return!1}},e})()));